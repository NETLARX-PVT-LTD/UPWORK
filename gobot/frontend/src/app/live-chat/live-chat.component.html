<div class="flex h-screen bg-gray-50 font-sans text-sm antialiased">
    <!-- Left Sidebar - User List -->
    <div class="flex w-80 flex-col border-r border-gray-200 bg-white">
        <div class="border-b border-gray-200 p-4">
            <div class="relative mb-4">
                <input type="text" placeholder="Search"
                    class="w-full rounded-md border border-gray-300 py-2 pl-10 pr-3 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10"
                    [(ngModel)]="searchTerm" (input)="filterUsers()" />
                <button
                    class="absolute left-3 top-1/2 -translate-y-1/2 cursor-pointer border-none bg-transparent text-gray-500">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8" />
                        <path d="m21 21-4.35-4.35" />
                    </svg>
                </button>
            </div>
            <div class="flex rounded-md bg-gray-100 p-0.5">
                <button
                    class="flex-1 rounded-sm border-none bg-transparent px-3 py-1.5 text-sm font-medium text-gray-600 transition-all hover:text-gray-900"
                    [class.bg-white]="activeFilter === 'all'" [class.shadow-sm]="activeFilter === 'all'"
                    [class.text-blue-600]="activeFilter === 'all'" (click)="setFilter('all')">All</button>
                <button
                    class="flex-1 rounded-sm border-none bg-transparent px-3 py-1.5 text-sm font-medium text-gray-600 transition-all hover:text-gray-900"
                    [class.bg-white]="activeFilter === 'open'" [class.shadow-sm]="activeFilter === 'open'"
                    [class.text-blue-600]="activeFilter === 'open'" (click)="setFilter('open')">Open</button>
                <button
                    class="flex-1 rounded-sm border-none bg-transparent px-3 py-1.5 text-sm font-medium text-gray-600 transition-all hover:text-gray-900"
                    [class.bg-white]="activeFilter === 'closed'" [class.shadow-sm]="activeFilter === 'closed'"
                    [class.text-blue-600]="activeFilter === 'closed'" (click)="setFilter('closed')">Closed</button>
            </div>
        </div>

        <div class="flex-1 overflow-y-auto">
            <div *ngFor="let user of filteredUsers"
                class="flex cursor-pointer items-center border-b border-gray-100 p-3 transition-colors hover:bg-gray-50"
                [class.bg-blue-50]="selectedUser?.id === user.id" [class.border-l-4]="selectedUser?.id === user.id"
                [class.border-blue-600]="selectedUser?.id === user.id" [class.bg-green-50]="user.unreadCount > 0"
                [class.opacity-50]="user.status === 'closed'" (click)="selectUser(user)">
                <div class="relative mr-3">
                    <img [src]="user.avatar || getDefaultAvatar()" [alt]="user.name"
                        class="h-10 w-10 rounded-full object-cover" />
                    <span class="absolute bottom-0 right-0 h-3 w-3 rounded-full border-2 border-white bg-gray-400"
                        [class.bg-green-500]="user.status === 'online'"></span>
                </div>
                <div class="min-w-0 flex-1">
                    <div class="truncate text-sm font-semibold text-gray-900">{{ user.name }}</div>
                    <div class="truncate text-xs text-gray-500">{{ user.lastMessage }}</div>
                </div>
                <div class="ml-auto flex flex-col items-end gap-1">
                    <span class="text-[11px] text-gray-400">{{ getRelativeTime(user.timestamp) }}</span>
                    <span
                        class="min-w-[18px] rounded-xl bg-red-500 px-1.5 py-0.5 text-[11px] font-semibold text-white text-center"
                        *ngIf="user.unreadCount > 0">{{ user.unreadCount }}</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Center - Chat Area -->
    <div class="flex flex-1 flex-col bg-white">
        <!-- Chat Header -->
        <div class="flex items-center justify-between border-b border-gray-200 bg-white px-6 py-4" *ngIf="selectedUser">
            <div class="flex items-center gap-3">
                <img [src]="selectedUser.avatar || getDefaultAvatar()" [alt]="selectedUser.name"
                    class="h-9 w-9 rounded-full object-cover" />
                <div>
                    <h3 class="m-0 text-base font-semibold text-gray-900">{{ selectedUser.name }}</h3>
                    <span class="text-xs text-gray-500" [class.text-green-500]="selectedUser.status === 'online'">
                        {{ selectedUser.status === 'online' ? 'Active' : 'Offline' }}
                    </span>
                </div>
            </div>
            <div class="flex items-center gap-2">
                <div class="relative">
                    <button [ngClass]="{
                        'bg-green-500 hover:bg-green-600 focus:ring-green-500/50': currentStatus === 'Active',
                        'bg-blue-500 hover:bg-blue-600 focus:ring-blue-500/50': currentStatus === 'Inactive'
                    }" class="inline-flex items-center rounded-full px-3 py-1 text-xs font-medium text-white transition-colors focus:outline-none focus:ring-2"
                        (click)="toggleStatusDropdown()">
                        <span class="mr-1 h-2 w-2 rounded-full bg-white"></span>
                        <span>{{ currentStatus }}</span>
                        <svg class="-mr-1 ml-1 h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                clip-rule="evenodd" />
                        </svg>
                    </button>
                    <div *ngIf="isStatusDropdownOpen"
                        class="absolute right-0 top-full z-10 mt-2 w-40 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none">
                        <a (click)="setActive()"
                            class="block cursor-pointer px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                            Active Chatbot
                        </a>
                        <a (click)="setInactive()"
                            class="block cursor-pointer px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                            Inactive Chatbot
                        </a>
                    </div>
                </div>

                <button
                    class="rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50"
                    (click)="openTranslateModal()">
                    Translate
                </button>

                <button *ngIf="selectedUser?.status === 'open'"
                    class="rounded-md bg-red-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-red-600"
                    (click)="closeChat()">
                    Close Chat
                </button>
                <button *ngIf="selectedUser?.status === 'closed'"
                    class="rounded-md bg-green-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-green-600"
                    (click)="reopenChat()">
                    Reopen Chat
                </button>
            </div>
        </div>

        <!-- Success Message -->
        <div *ngIf="showSuccessMessage"
            class="absolute left-1/2 top-16 -translate-x-1/2 rounded-md bg-green-500 px-4 py-2 text-sm font-medium text-white shadow-lg z-50 transition-opacity duration-300 ease-in-out">
            {{ successMessage }}
        </div>

        <!-- Chat Messages -->
        <div class="flex-1 flex flex-col bg-gray-50" #messagesContainer *ngIf="selectedUser">
            <button
                class="mx-6 my-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700"
                (click)="loadMoreMessages()">Load More</button>
            <div class="flex-1 overflow-y-auto px-6 pb-4 pt-0">
                <div *ngFor="let message of currentMessages" class="mb-3 flex" [class.justify-end]="!message.isFromUser"
                    [class.justify-start]="message.isFromUser">
                    <div class="max-w-[70%] rounded-2xl px-4 py-3 relative" [class.bg-blue-600]="!message.isFromUser"
                        [class.text-white]="!message.isFromUser" [class.bg-gray-200]="message.isFromUser"
                        [class.text-gray-900]="message.isFromUser">
                        <p class="m-0 leading-snug">{{ message.message }}</p>
                        <span class="mt-1 block text-xs opacity-80">{{ getMessageTime(message.timestamp) }}</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Message Input -->
      <div class="flex items-center gap-3 border-t border-gray-200 bg-white p-4" *ngIf="selectedUser">
  
    <div class="flex gap-2">
        <button class="rounded-md border-none bg-transparent p-2 text-gray-500 transition-colors hover:bg-gray-100" title="Send Story" (click)="openSendStoryModal()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2a10 10 0 1 0 10 10 10 10 0 0 0-10-10zm0 14a4 4 0 1 1 4-4 4 4 0 0 1-4 4z" />
                <path d="M12 12v-5" />
            </svg>
        </button>
        <button class="rounded-md border-none bg-transparent p-2 text-gray-500 transition-colors hover:bg-gray-100" title="Attach file" (click)="toggleFileUploadInput()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66L9.64 16.2a2 2 0 0 1-2.83-2.83l8.49-8.48" />
            </svg>
        </button>
        <button class="rounded-md border-none bg-transparent p-2 text-gray-500 transition-colors hover:bg-gray-100" title="Add Message" (click)="toggleAddMessageInput()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 5v14" />
                <path d="M5 12h14" />
            </svg>
        </button>
    </div>

    <div class="flex-1 flex flex-col items-stretch rounded-3xl border border-gray-300 px-4 py-2 focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-500/10">

        <div *ngIf="showFileUploadInput" class="flex items-center justify-between">
            <!-- <span class="font-medium text-gray-700">Upload File</span> -->
            <input type="file" class="text-sm text-gray-500 file:mr-4 file:rounded-md file:border-0 file:bg-blue-50 file:px-4 file:py-2 file:text-sm file:font-semibold file:text-blue-700 hover:file:bg-blue-100" />
        </div>

        <div *ngIf="showAddMessageInput" class="flex items-center gap-2 ">
            <!-- <span class="font-medium text-gray-700">Add Message</span> -->
            <textarea rows="1" placeholder="Type your message" class="flex-1 resize-none overflow-hidden rounded-md border border-gray-300 px-3 py-2 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10"></textarea>
        </div>

        <input type="text" placeholder="Message" class="flex-1 bg-transparent outline-none" [(ngModel)]="newMessage" (keyup.enter)="sendMessage()" />

    </div>

    <button class="flex h-10 w-10 items-center justify-center rounded-full bg-blue-600 transition-colors hover:bg-blue-700 disabled:cursor-not-allowed disabled:bg-gray-400" (click)="sendMessage()" [disabled]="!newMessage.trim()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-white">
            <path d="m22 2-7 20-4-9-9-4Z" />
            <path d="M22 2 11 13" />
        </svg>
    </button>
</div>

        <!-- Empty State -->
        <div class="flex flex-1 items-center justify-center bg-gray-50" *ngIf="!selectedUser">
            <div class="text-center">
                <h3 class="mb-2 text-lg font-semibold text-gray-900">Select a conversation</h3>
                <p class="mb-6 text-gray-600">Choose a conversation from the sidebar to start chatting</p>
                <button
                    class="rounded-md bg-blue-600 px-6 py-3 font-medium text-white transition-colors hover:bg-blue-700">Start
                    Conversation</button>
            </div>
        </div>
    </div>

    <!-- Right Sidebar - User Details -->
    <div class="flex w-[350px] flex-col border-l border-gray-200 bg-white" *ngIf="selectedUser">
        <!-- User Profile Header -->
        <div class="border-b border-gray-200 p-4">
            <div class="flex items-center gap-3">
                <img [src]="selectedUser.avatar || getDefaultAvatar()" [alt]="selectedUser.name"
                    class="h-12 w-12 rounded-full object-cover" />
                <div class="flex-1">
                    <h3 class="text-lg font-semibold text-gray-900">{{ selectedUser.name }}</h3>
                    <p class="text-sm text-gray-500">{{ selectedUser.email || 'anonymous@test.com' }}</p>
                </div>
                <div class="flex items-center gap-1">
                    <svg class="h-6 w-6 text-gray-800 dark:text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0a.995.995 0 01-.132.583l-1.879 1.879a.996.996 0 01-1.414 0L9.132 17.583A.995.995 0 019 17m5.914 0c.328 1.57.87 2.457 1.879 3.465m-2.293-4.293l1.879-1.879"/>
  </svg>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="flex border-b border-gray-200">
            <button class="flex-1 px-4 py-3 text-sm font-medium transition-colors"
                [class.text-blue-600]="activeSidebarTab === 'details'"
                [class.border-b-2]="activeSidebarTab === 'details'"
                [class.border-blue-600]="activeSidebarTab === 'details'"
                [class.text-gray-500]="activeSidebarTab !== 'details'" (click)="setActiveSidebarTab('details')">
                <span class="inline-flex items-center gap-1">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                        <circle cx="12" cy="7" r="4" />
                    </svg>
                    User Details
                </span>
            </button>
            <button class="flex-1 px-4 py-3 text-sm font-medium transition-colors"
                [class.text-blue-600]="activeSidebarTab === 'attributes'"
                [class.border-b-2]="activeSidebarTab === 'attributes'"
                [class.border-blue-600]="activeSidebarTab === 'attributes'"
                [class.text-gray-500]="activeSidebarTab !== 'attributes'" (click)="setActiveSidebarTab('attributes')">
                <span class="inline-flex items-center gap-1">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" />
                        <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />
                    </svg>
                    User Attributes
                </span>
            </button>
        </div>

        <!-- Tab Content -->
        <div class="flex-1 overflow-y-auto p-4">
            <!-- User Details Tab -->
            <div *ngIf="activeSidebarTab === 'details'">
                <div class="space-y-4">
                    <!-- Auto Generated Name Notice -->
                    <div class="rounded-md bg-yellow-50 border border-yellow-200 p-3" *ngIf="selectedUser.isAnonymous">
                        <p class="text-xs text-yellow-800">This user has an auto generated name.</p>
                    </div>

                    <!-- User Details List -->
                    <div class="space-y-3">
                        <div class="flex justify-between items-start">
                            <span class="text-sm font-medium text-gray-700">Source:</span>
                            <span class="text-sm text-gray-900">{{ selectedUser.source }}</span>
                        </div>

                        <div class="flex justify-between items-start">
                            <span class="text-sm font-medium text-gray-700">Last Converse:</span>
                            <span class="text-sm text-gray-900">{{ selectedUser.lastConverse }}</span>
                        </div>

                        <div class="flex justify-between items-start">
                            <span class="text-sm font-medium text-gray-700">Phone:</span>
                            <span class="text-sm text-gray-900">{{ selectedUser.phone || 'N/A' }}</span>
                        </div>

                        <div class="flex justify-between items-start">
                            <span class="text-sm font-medium text-gray-700">Country:</span>
                            <span class="text-sm text-gray-900">{{ selectedUser.country }}</span>
                        </div>

                        <div class="flex justify-between items-start">
                            <span class="text-sm font-medium text-gray-700">OS:</span>
                            <span class="text-sm text-gray-900">{{ selectedUser.os }}</span>
                        </div>

                        <div class="flex justify-between items-start">
                            <span class="text-sm font-medium text-gray-700">Last Page:</span>
                            <a [href]="selectedUser.currentPage" target="_blank"
                                class="text-sm text-blue-600 hover:underline break-all">
                                {{ selectedUser.currentPage }}
                            </a>
                        </div>

                        <div class="flex justify-between items-start">
                            <span class="text-sm font-medium text-gray-700">FBID:</span>
                            <span class="text-sm text-gray-900">{{ selectedUser.fbid || 'TestUser' }}</span>
                        </div>

                        <div class="flex justify-between items-start">
                            <span class="text-sm font-medium text-gray-700">Currently Assigned To:</span>
                            <span class="text-sm text-gray-900">{{ selectedUser.assignedTo }}</span>
                        </div>
                    </div>

                    <!-- User Satisfaction -->
                    <div class="mt-6">
                        <label class="mb-2 block text-sm font-medium text-gray-700">User Satisfaction:</label>
                        <div class="flex items-center gap-2">
                            <span class="text-base">😊</span>
                            <div class="h-2 flex-1 overflow-hidden rounded-full bg-gray-200">
                                <div class="h-full bg-gradient-to-r from-red-500 via-amber-500 to-green-500 transition-all duration-300"
                                    [style.width.%]="(selectedUser.satisfaction || 0) * 20"></div>
                            </div>
                            <span class="text-base">😠</span>
                        </div>
                        <div class="mt-1 text-center">
                            <span class="text-sm text-gray-600">{{ selectedUser.satisfaction }}/5</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- User Attributes Tab -->
            <div *ngIf="activeSidebarTab === 'attributes'" class="flex h-full flex-col items-center justify-center">
                <div class="text-center text-gray-500">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"
                        class="mx-auto mb-4 text-gray-300">
                        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" />
                        <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />
                    </svg>
                    <p class="mb-2 text-sm">No saved attributes for this user.</p>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="border-t border-gray-200 p-4">
            <div class="flex justify-center gap-3">
                <button
                    class="flex h-10 w-10 items-center justify-center rounded-full bg-gray-100 text-gray-600 transition-colors hover:bg-gray-200"
                    title="Download Chat" (click)="exportChat()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                        <polyline points="7,10 12,15 17,10" />
                        <line x1="12" y1="15" x2="12" y2="3" />
                    </svg>
                </button>

                <button
                    class="flex h-10 w-10 items-center justify-center rounded-full bg-red-500 text-white transition-colors hover:bg-red-600"
                    title="Delete Chat" (click)="deleteChat()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 6h18" />
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                    </svg>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modals -->
<!-- Translate Modal -->
<div *ngIf="showTranslateModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
    <div class="w-full max-w-sm rounded-lg bg-white p-6 shadow-xl">
        <div class="flex items-center justify-between border-b pb-3">
            <h3 class="text-lg font-semibold text-gray-900">Translate</h3>
            <button class="text-gray-500 hover:text-gray-700" (click)="closeTranslateModal()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 6 6 18" />
                    <path d="m6 6 12 12" />
                </svg>
            </button>
        </div>

        <div class="mt-4">
            <label for="language-select" class="block text-sm font-medium text-gray-700">Change Language</label>
            <div class="relative mt-1">
                <select id="language-select" [(ngModel)]="translateLanguage"
                    class="block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm">
                    <option value="English">English</option>
                    <option value="Spanish">Spanish</option>
                    <option value="French">French</option>
                    <option value="German">German</option>
                </select>
            </div>
            <p class="mt-2 text-xs text-gray-500">Powered by Google Translate</p>
        </div>
    </div>
</div>

<!-- Send Story Modal -->
<div *ngIf="showSendStoryModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
    <div class="w-full max-w-md rounded-lg bg-white p-6 shadow-xl">
        <div class="flex items-center justify-between border-b pb-3">
            <h3 class="text-lg font-semibold text-gray-900">Select Story you want to send</h3>
            <button class="text-gray-500 hover:text-gray-700" (click)="closeSendStoryModal()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 6 6 18" />
                    <path d="m6 6 12 12" />
                </svg>
            </button>
        </div>
        <div class="mt-4">
            <p class="text-sm text-gray-500">Please add story as a canned response from stories list
                <a href="#" class="inline-flex items-center text-blue-600 underline" (click)="goToBotStoriesPage()">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        class="ml-1">
                        <circle cx="12" cy="12" r="10" />
                        <path d="M12 16v-4" />
                        <path d="M12 8h.01" />
                    </svg>
                </a>
            </p>
        </div>
    </div>
</div>

<!-- Add Message Modal -->
<div *ngIf="showAddMessageModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
    <div class="w-full max-w-md rounded-lg bg-white p-6 shadow-xl">
        <div class="flex items-center justify-between border-b pb-3">
            <h3 class="text-lg font-semibold text-gray-900">Add Message</h3>
            <button class="text-gray-500 hover:text-gray-700" (click)="closeAddMessageModal()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 6 6 18" />
                    <path d="m6 6 12 12" />
                </svg>
            </button>
        </div>
        <div class="mt-4">
            <textarea rows="4" placeholder="Type your message here..."
                class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10"
                [(ngModel)]="additionalMessage"></textarea>
            <div class="mt-4 flex justify-end gap-2">
                <button
                    class="rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50"
                    (click)="closeAddMessageModal()">
                    Cancel
                </button>
                <button
                    class="rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700"
                    (click)="sendAdditionalMessage()" [disabled]="!additionalMessage.trim()">
                    Send
                </button>
            </div>
        </div>
    </div>
</div>