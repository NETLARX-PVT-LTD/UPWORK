<div
  class="block-container bg-white border border-[#2e66f4] rounded-md overflow-hidden shadow-sm"
  [ngClass]="{'block-selected': isSelected}"
  *ngIf="!isSelected"
>
  <!-- Block Header -->
  <div class="block-header p-3 flex justify-between items-center bg-[#4B7DF6]">
    <div class="flex items-center space-x-2">
      <img src="https://app.botsify.com/theme/images/Story-Icons/typing.png" alt="Typing Icon" class="w-6 h-6">
      <span class="text-black font-bold text-[14px] font-sans">
        Typing Delay
      </span>
    </div>
    
    <!-- Block actions menu -->
    <div class="block-actions">
      <button mat-icon-button class="close-btn" (click)="onRemoveBlock()" aria-label="Remove Block">
    <mat-icon>close</mat-icon>
  </button>

    </div>
  </div>

  <!-- Block Body -->
  <div class="block-body p-4">
    <!-- Block description -->
    <p class="text-[14px] text-[#888ea8] mb-4 font-sans">
      Add a typing delay between two blocks.
    </p>

    <!-- Horizontal line -->
    <hr class="border-t border-dashed border-[#bfc9d4] my-2" />

    <!-- Delay indicator with new pill styling -->
    <div class="flex items-center mt-4">
      <span class="text-[14px] font-semibold text-[#506690] font-sans">Delay:</span>
      <span class="delay-pill ml-2 px-3 py-1 bg-[#22c55e] text-white text-[12px] font-bold rounded-md">
        {{ block.delaySeconds || 0 }} seconds
      </span>
    </div>
  </div>
</div>

<!-- Selected State: This view is for the right-side bar when the block is selected. -->
<div *ngIf="isSelected">
  <div class="typing-delay-ui-card p-5 bg-white">
    <!-- Header with title, description, and close button -->
    <div class="flex justify-between items-start mb-4">
      <div>
        <h4 class="text-[18px] font-bold text-[#515365] font-sans">
          Typing Indicator Integration
        </h4>
        <p class="text-[14px] text-[#888ea8] font-sans">Add a typing delay between two blocks to mimic a real experience</p>
      </div>
    </div>
  
    <!-- Slider section -->
    <div class="mt-3">
      <h5 class="text-[14px] font-medium text-[#506690] mb-2 font-sans">
        Typing Delay ( <span class="delay-value">{{ typingDelay | number: '1.1-1' }}</span> Seconds )
      </h5>
      <!-- The border and shadow will appear on hover or focus using Tailwind CSS -->
      <div
        class="rounded-[6px] pt-2 pb-2 transition-shadow duration-300
               hover:border hover:border-[#bfc9d4] hover:shadow-[0_0_5px_2px_rgba(194,213,255,0.619608)]
               focus-within:border focus-within:border-[#bfc9d4] focus-within:shadow-[0_0_5px_2px_rgba(194,213,255,0.619608)]"
      >
        <input
          id="typingDelay"
          type="range"
          min="0"
          max="20"
          step="0.5"
          [(ngModel)]="typingDelay"
          (input)="onDelayChange()"
          class="w-full custom-range-slider mt-1"
        />
      </div>
    </div>
  </div>
</div>


